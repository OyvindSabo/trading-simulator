<style>
  #sideBarContent {
    font-family: Arial Black;
    color: darkslategray;
    font-size: 24px;
    margin: 10px;
  }
  .amountInput {
    padding: 10px;
    background-color: whitesmoke;
  }
  .sideBarButton {
    font-family: Arial Black;
    font-size: 24px;
  }
</style>
<script>
  let CURRENT_STOCK_PRICE = 500;
  let CURRENT_TIME = 0;
  let CURRENT_MONEY_BALANCE = 1000;
  let CURRENT_STOCK_COUNT = 0;
  let ORDER_TYPE = 'buy';
  
  const handleBuyClick = () => {
    ORDER_TYPE = 'buy';
    document.getElementById('buyButton').style['background-color'] = 'lightgreen';
    document.getElementById('sellButton').style['background-color'] = 'white';
    document.getElementById('placeOrderButton').style['background-color'] = 'lightGreen';
    document.getElementById('placeOrderButton').innerHTML = 'Place buy order';
  }

  const handleSellClick = () => {
    ORDER_TYPE = 'sell';
    document.getElementById('buyButton').style['background-color'] = 'white';
    document.getElementById('sellButton').style['background-color'] = 'orangered';
    document.getElementById('placeOrderButton').style['background-color'] = 'orangered';
    document.getElementById('placeOrderButton').innerHTML = 'Place sell order';
  }
</script>
<body>
  <div id='tradingWindow' style='width:100%;'>
    <div id='sideBar' style='width:25%;float:left'>
      <div id='sideBarContent'>
        Current price: <span id='currentStockPrice'></span><br>
        <br>
        Money:      €<span id='currentMoneyBalance'></span><br>
        <br>
        Stocks:      <span id='currentStockCount'></span> (€<span id='currentPortfolioValue'></span>)<br>
        <br>
        Total value: €<span id='currentTotalValue'></span><br>
        <br>
        <button id='buyButton' onclick='handleBuyClick()' style='background-color:lightgreen;' class='sideBarButton' type='button' style='width=100%;'>Buy</button>
        <button id='sellButton' onclick='handleSellClick()' style='background-color:white;' class='sideBarButton' type='button' style='width=100%;'>Sell</button><br>
        <br>
        Amount<br>
        <input class='amountInput'><br>
        <br>
        Limit price<br>
        <input class='amountInput'><br>
        <br>
        <button id='placeOrderButton' style='background-color:lightgreen;' class='sideBarButton' type='button' style='width=100%;'>Place Buy Order</button>
      </div>
    </div>
    <canvas id='graph' width='1920' height='540';' style='width:75%;float:right'></canvas>
  </div>
</body>

<script>  
  const initCanvas = () => {
    const canvas = document.getElementById('graph');
    const context = canvas.getContext('2d');
    context.fillStyle = 'whitesmoke';
    context.fillRect(0, 0, 1920, 540);
  }
  
  const iterate = () => {;
    const canvas = document.getElementById('graph');
    const context = canvas.getContext('2d');
    const difference = (Math.floor(Math.random()*2) == 1 ? 1 : -1)*CURRENT_STOCK_PRICE*0.01;
    context.moveTo(CURRENT_TIME, CURRENT_STOCK_PRICE);
    
    // Calculate and set current price
    CURRENT_STOCK_PRICE = (Math.floor(Math.random()*2) == 1
      ? CURRENT_STOCK_PRICE * 1.01
      : CURRENT_STOCK_PRICE / 1.01).toFixed(2);
    document.getElementById('currentStockPrice').innerHTML = CURRENT_STOCK_PRICE;
    
    // Set current money balance
    document.getElementById('currentMoneyBalance').innerHTML = CURRENT_MONEY_BALANCE;

    // Set current stock count
    document.getElementById('currentStockCount').innerHTML = CURRENT_STOCK_COUNT;
    
    // Calculate and set total value
    document.getElementById('currentPortfolioValue').innerHTML = CURRENT_STOCK_PRICE*CURRENT_STOCK_COUNT;
    document.getElementById('currentTotalValue').innerHTML = CURRENT_STOCK_PRICE*CURRENT_STOCK_COUNT + CURRENT_MONEY_BALANCE;
    
    // Calculate current time
    CURRENT_TIME++;
    
    // Draw next graph iteration
    context.lineTo(CURRENT_TIME, CURRENT_STOCK_PRICE);
    context.strokeStyle = 'red';
    context.stroke();
    setTimeout(iterate, 100);
  }

  initCanvas();
  iterate();
</script>